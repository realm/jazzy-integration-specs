<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Resource Class Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset="utf-8">
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
    <script src="../js/lunr.min.js" defer></script>
    <script src="../js/typeahead.jquery.js" defer></script>
    <script src="../js/jazzy.search.js" defer></script>
  </head>
  <body>

    <a name="//apple_ref/swift/Class/Resource" class="dashAnchor"></a>

    <a title="Resource Class Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="../index.html">
          Siesta Y.Y.Y Docs
        </a>
         (96% documented)
      </p>
    
      <p class="header-col--secondary">
        <form role="search" action="../search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/bustoutsolutions/siesta">
            <img class="header-icon" src="../img/gh.png"/>
            View on GitHub
          </a>
        </p>
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="../index.html">Siesta Reference</a>
      <img class="carat" src="../img/carat.png" />
      Resource Class Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Resources.html">Resources</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Service.html">Service</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Resource.html">Resource</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/Entity.html">Entity</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/Configuration.html">Configuration</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/ConfigurationPatternConvertible.html">ConfigurationPatternConvertible</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/TypedContentAccessors.html">TypedContentAccessors</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Observing%20Resources.html">Observing Resources</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/ResourceObserver.html">ResourceObserver</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Observing%20Resources.html#/s:6Siesta23ResourceObserverClosurea">ResourceObserverClosure</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/ResourceEvent.html">ResourceEvent</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/ResourceEvent/NewDataSource.html">– NewDataSource</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Requests.html">Requests</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/Request.html">Request</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/RequestMethod.html">RequestMethod</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/RequestState.html">RequestState</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/RequestError.html">RequestError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/RequestError/Cause.html">– Cause</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/Response.html">Response</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/ResponseInfo.html">ResponseInfo</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Request%20Customization.html">Request Customization</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/RequestChainAction.html">RequestChainAction</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/RequestDelegate.html">RequestDelegate</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/RequestCompletionHandler.html">RequestCompletionHandler</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Response%20Pipeline.html">Response Pipeline</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/Pipeline.html">Pipeline</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/PipelineStage.html">PipelineStage</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/PipelineStage/MutationAction.html">– MutationAction</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/PipelineStageKey.html">PipelineStageKey</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/ResponseTransformer.html">ResponseTransformer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/ResponseContentTransformer.html">ResponseContentTransformer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/ResponseContentTransformer/InputTypeMismatchAction.html">– InputTypeMismatchAction</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/StandardTransformer.html">StandardTransformer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Response%20Pipeline.html#/s:6Siesta23JSONResponseTransformeryAA08ResponseC0_pSbF">JSONResponseTransformer(_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Response%20Pipeline.html#/s:6Siesta23TextResponseTransformeryAA0cD0_pSbF">TextResponseTransformer(_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Response%20Pipeline.html#/s:6Siesta24ImageResponseTransformeryAA0cD0_pSbF">ImageResponseTransformer(_:)</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Logging.html">Logging</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/SiestaLog.html">SiestaLog</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/SiestaLog/Category.html">– Category</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Caching.html">Caching</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/EntityCache.html">EntityCache</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Network%20Layer.html">Network Layer</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/NetworkingProvider.html">NetworkingProvider</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/NetworkingProviderConvertible.html">NetworkingProviderConvertible</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/RequestNetworking.html">RequestNetworking</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Network%20Layer.html#/s:6Siesta35RequestNetworkingCompletionCallbacka">RequestNetworkingCompletionCallback</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/RequestTransferMetrics.html">RequestTransferMetrics</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/URLSessionProvider.html">URLSessionProvider</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/SessionTaskContainer.html">SessionTaskContainer</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Other%20Extensions.html">Other Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Other%20Extensions.html#/s:Sa">Array</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Other%20Extensions.html#/s:SD">Dictionary</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Other%20Extensions.html#/c:objc(cs)NSArray">NSArray</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Other%20Extensions.html#/c:objc(cs)NSDictionary">NSDictionary</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/NSRegularExpression.html">NSRegularExpression</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/Set.html">Set</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/String.html">String</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/URL.html">URL</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/URLSession.html">URLSession</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/URLSessionConfiguration.html">URLSessionConfiguration</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Other%20Protocols.html">Other Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Other%20Protocols.html#/s:6Siesta15JSONConvertibleP">JSONConvertible</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/URLConvertible.html">URLConvertible</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Other%20Typealiases.html">Other Type Aliases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Other%20Typealiases.html#/Image">Image</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Other%20Typealiases.html#/s:6Siesta5Imagea">Image</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content top-matter">
            <h1>Resource</h1>
              <div class="declaration">
                <div class="language">
                  
                  <pre class="highlight swift"><code><span class="kd">@objc</span><span class="p">(</span><span class="kt">BOSResource</span><span class="p">)</span>
<span class="kd">public</span> <span class="kd">final</span> <span class="kd">class</span> <span class="kt">Resource</span> <span class="p">:</span> <span class="kt">NSObject</span></code></pre>
<pre class="highlight swift"><code><span class="kd">extension</span> <span class="kt">Resource</span><span class="p">:</span> <span class="kt"><a href="../Protocols/ConfigurationPatternConvertible.html">ConfigurationPatternConvertible</a></span></code></pre>
<pre class="highlight swift"><code><span class="kd">extension</span> <span class="kt">Resource</span><span class="p">:</span> <span class="kt"><a href="../Protocols/TypedContentAccessors.html">TypedContentAccessors</a></span></code></pre>

                </div>
              </div>
            <p>An in-memory cache of a RESTful resource, plus information about the status of network requests related to it.</p>

<p>This class answers three basic questions about a resource:</p>

<ul>
<li>What is the latest data for the resource this device has retrieved, if any?</li>
<li>Did the last attempt to load it result in an error?</li>
<li>Is there a request in progress?</li>
</ul>

<p>…and allows multiple observer to register to be notified whenever the answers to any of these
questions changes.</p>

          </div>
        </section>

        <section class="section">
          <div class="section-content">
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Essentials"></a>
                <a name="//apple_ref/swift/Section/Essentials" class="dashAnchor"></a>
                <div class="section-name-container">
                  <a class="section-name-link" href="#/Essentials"></a>
                  <h3 class="section-name"><p>Essentials</p>
</h3>
                </div>
              </div>
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:@M@Siesta@objc(cs)BOSResource(py)service"></a>
                    <a name="//apple_ref/swift/Property/service" class="dashAnchor"></a>
                    <a class="token" href="#/c:@M@Siesta@objc(cs)BOSResource(py)service">service</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The API to which this resource belongs. Provides configuration defaults and instance uniqueness.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@objc</span>
<span class="kd">public</span> <span class="k">let</span> <span class="nv">service</span><span class="p">:</span> <span class="kt"><a href="../Classes/Service.html">Service</a></span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:@M@Siesta@objc(cs)BOSResource(py)url"></a>
                    <a name="//apple_ref/swift/Property/url" class="dashAnchor"></a>
                    <a class="token" href="#/c:@M@Siesta@objc(cs)BOSResource(py)url">url</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The canoncial URL of this resource.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@objc</span>
<span class="kd">public</span> <span class="k">let</span> <span class="nv">url</span><span class="p">:</span> <span class="kt">URL</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Configuration"></a>
                <a name="//apple_ref/swift/Section/Configuration" class="dashAnchor"></a>
                <div class="section-name-container">
                  <a class="section-name-link" href="#/Configuration"></a>
                  <h3 class="section-name"><p>Configuration</p>
</h3>
                </div>
              </div>
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Siesta8ResourceC13configurationAA13ConfigurationVvp"></a>
                    <a name="//apple_ref/swift/Property/configuration" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Siesta8ResourceC13configurationAA13ConfigurationVvp">configuration</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Configuration when there is no request method.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">configuration</span><span class="p">:</span> <span class="kt"><a href="../Structs/Configuration.html">Configuration</a></span> <span class="p">{</span> <span class="k">get</span> <span class="p">}</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Siesta8ResourceC13configuration3forAA13ConfigurationVAA13RequestMethodO_tF"></a>
                    <a name="//apple_ref/swift/Method/configuration(for:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Siesta8ResourceC13configuration3forAA13ConfigurationVAA13RequestMethodO_tF">configuration(for:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Configuration for requests with the given request method.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">configuration</span><span class="p">(</span><span class="k">for</span> <span class="nv">method</span><span class="p">:</span> <span class="kt"><a href="../Enums/RequestMethod.html">RequestMethod</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Structs/Configuration.html">Configuration</a></span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Resource%20state"></a>
                <a name="//apple_ref/swift/Section/Resource state" class="dashAnchor"></a>
                <div class="section-name-container">
                  <a class="section-name-link" href="#/Resource%20state"></a>
                  <h3 class="section-name"><p>Resource state</p>
</h3>
                </div>
              </div>
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Siesta8ResourceC10latestDataAA6EntityVyypGSgvp"></a>
                    <a name="//apple_ref/swift/Property/latestData" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Siesta8ResourceC10latestDataAA6EntityVyypGSgvp">latestData</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The latest valid data we have for this resource. May come from a server response, a cache,
or a local override.</p>

<p>Note that this property represents the <strong>full state</strong> of the resource. It therefore only holds entities fetched
with <code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC4loadAA7Request_pyF">load()</a></code> and <code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC12loadIfNeededAA7Request_pSgyF">loadIfNeeded()</a></code>, not any of the various flavors of <code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC7request_0C8MutationAA7Request_pAA0E6MethodO_y10Foundation10URLRequestVzctF">request(...)</a></code>.</p>

<p>Note that <code>latestData</code> will be present as long as there has <em>ever</em> been a succesful request since the resource
was created or wiped. If an error occurs, <code>latestData</code> will still hold the latest (now stale) valid data.</p>
<div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <code><a href="../Protocols/TypedContentAccessors.html">TypedContentAccessors</a></code>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">private(set)</span> <span class="k">var</span> <span class="nv">latestData</span><span class="p">:</span> <span class="kt"><a href="../Structs/Entity.html">Entity</a></span><span class="o">&lt;</span><span class="kt">Any</span><span class="o">&gt;</span><span class="p">?</span> <span class="p">{</span> <span class="k">get</span> <span class="k">set</span> <span class="p">}</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Siesta8ResourceC11latestErrorAA07RequestD0VSgvp"></a>
                    <a name="//apple_ref/swift/Property/latestError" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Siesta8ResourceC11latestErrorAA07RequestD0VSgvp">latestError</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Details if the last attempt to load this resource resulted in an error. Becomes nil as soon
as a request is successful.</p>

<p>Note that this only reports error from <code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC4loadAA7Request_pyF">load()</a></code> and <code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC12loadIfNeededAA7Request_pSgyF">loadIfNeeded()</a></code>, not any of the various
flavors of <code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC7request_0C8MutationAA7Request_pAA0E6MethodO_y10Foundation10URLRequestVzctF">request(...)</a></code>.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">private(set)</span> <span class="k">var</span> <span class="nv">latestError</span><span class="p">:</span> <span class="kt"><a href="../Structs/RequestError.html">RequestError</a></span><span class="p">?</span> <span class="p">{</span> <span class="k">get</span> <span class="k">set</span> <span class="p">}</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:@M@Siesta@objc(cs)BOSResource(py)timestamp"></a>
                    <a name="//apple_ref/swift/Property/timestamp" class="dashAnchor"></a>
                    <a class="token" href="#/c:@M@Siesta@objc(cs)BOSResource(py)timestamp">timestamp</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The time of the most recent update to either <code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC10latestDataAA6EntityVyypGSgvp">latestData</a></code> or <code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC11latestErrorAA07RequestD0VSgvp">latestError</a></code>.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@objc</span>
<span class="kd">public</span> <span class="k">var</span> <span class="nv">timestamp</span><span class="p">:</span> <span class="kt">TimeInterval</span> <span class="p">{</span> <span class="k">get</span> <span class="p">}</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Request%20management"></a>
                <a name="//apple_ref/swift/Section/Request management" class="dashAnchor"></a>
                <div class="section-name-container">
                  <a class="section-name-link" href="#/Request%20management"></a>
                  <h3 class="section-name"><p>Request management</p>
</h3>
                </div>
              </div>
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:@M@Siesta@objc(cs)BOSResource(py)isLoading"></a>
                    <a name="//apple_ref/swift/Property/isLoading" class="dashAnchor"></a>
                    <a class="token" href="#/c:@M@Siesta@objc(cs)BOSResource(py)isLoading">isLoading</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>True if any load requests (i.e. from calls to <code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC4loadAA7Request_pyF">load(...)</a></code> and <code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC12loadIfNeededAA7Request_pSgyF">loadIfNeeded()</a></code>)
for this resource are in progress.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@objc</span>
<span class="kd">public</span> <span class="k">var</span> <span class="nv">isLoading</span><span class="p">:</span> <span class="kt">Bool</span> <span class="p">{</span> <span class="k">get</span> <span class="p">}</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:@M@Siesta@objc(cs)BOSResource(py)isRequesting"></a>
                    <a name="//apple_ref/swift/Property/isRequesting" class="dashAnchor"></a>
                    <a class="token" href="#/c:@M@Siesta@objc(cs)BOSResource(py)isRequesting">isRequesting</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>True if any requests for this resource are in progress.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@objc</span>
<span class="kd">public</span> <span class="k">var</span> <span class="nv">isRequesting</span><span class="p">:</span> <span class="kt">Bool</span> <span class="p">{</span> <span class="k">get</span> <span class="p">}</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Siesta8ResourceC12loadRequestsSayAA7Request_pGvp"></a>
                    <a name="//apple_ref/swift/Property/loadRequests" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Siesta8ResourceC12loadRequestsSayAA7Request_pGvp">loadRequests</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>All load requests in progress, in the order they were initiated.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">private(set)</span> <span class="k">var</span> <span class="nv">loadRequests</span><span class="p">:</span> <span class="p">[</span><span class="kt"><a href="../Protocols/Request.html">Request</a></span><span class="p">]</span> <span class="p">{</span> <span class="k">get</span> <span class="p">}</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Siesta8ResourceC11allRequestsSayAA7Request_pGvp"></a>
                    <a name="//apple_ref/swift/Property/allRequests" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Siesta8ResourceC11allRequestsSayAA7Request_pGvp">allRequests</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>All requests in progress related to this resource, in the order they were initiated.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">private(set)</span> <span class="k">var</span> <span class="nv">allRequests</span><span class="p">:</span> <span class="p">[</span><span class="kt"><a href="../Protocols/Request.html">Request</a></span><span class="p">]</span> <span class="p">{</span> <span class="k">get</span> <span class="p">}</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Requests"></a>
                <a name="//apple_ref/swift/Section/Requests" class="dashAnchor"></a>
                <div class="section-name-container">
                  <a class="section-name-link" href="#/Requests"></a>
                  <h3 class="section-name"><p>Requests</p>
</h3>
                </div>
              </div>
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Siesta8ResourceC15RequestMutationa"></a>
                    <a name="//apple_ref/swift/Alias/RequestMutation" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Siesta8ResourceC15RequestMutationa">RequestMutation</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Allows callers to arbitrarily alter the HTTP details of a request before it is sent. For example:</p>
<pre class="highlight swift"><code><span class="n">resource</span><span class="o">.</span><span class="nf">request</span><span class="p">(</span><span class="o">.</span><span class="n">post</span><span class="p">)</span> <span class="p">{</span>
  <span class="nv">$0</span><span class="o">.</span><span class="n">httpBody</span> <span class="o">=</span> <span class="n">imageData</span>
  <span class="nv">$0</span><span class="o">.</span><span class="nf">addValue</span><span class="p">(</span><span class="s">"image/png"</span><span class="p">,</span> <span class="nv">forHTTPHeaderField</span><span class="p">:</span> <span class="s">"Content-Type"</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>

<p>Siesta provides helpers that make this custom <code>RequestMutation</code> unnecessary in many common cases.
<a href="http://bustoutsolutions.github.io/siesta/guide/configuration/">Configuration</a> lets you set request headers, and
helpers such as <code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC7request_4json11contentType0C8MutationAA7Request_pAA0H6MethodO_AA15JSONConvertible_pSSy10Foundation10URLRequestVzctF">Resource.request(_:json:contentType:requestMutation:)</a></code> will encode common request body types for
you. Custom mutation is the “full control” option for cases when:</p>

<ol>
<li>you need to alter the request in ways Siesta doesn’t provide helpers for, or</li>
<li>you want to alter <em>one</em> individual request instead of configuring <em>all</em> requests for a resource.</li>
</ol>

<p>The <code>RequestMutation</code> receives a <code>URLRequest</code> <em>after</em> Siesta has already applied all of its normal configuration.
The <code>URLRequest</code> is mutable, and any changes it makes are the last stop before the request is sent to the network.
What you return is what Siesta sends.</p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    <p>Why is <code>RequestMutation</code> marked <code>@escaping</code> everywhere it’s used? Because <code><a href="../Protocols/Request.html#/s:6Siesta7RequestP8repeatedAaB_pyF">Request.repeated()</a></code> does
not repeat the original request verbatim; instead, it recomputes the request headers using the latest
configuration, then reapplies your <code>RequestMutation</code>.</p>

</div><div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <p><code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC7request_0C8MutationAA7Request_pAA0E6MethodO_y10Foundation10URLRequestVzctF">Resource.request(...)</a></code></p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">typealias</span> <span class="kt">RequestMutation</span> <span class="o">=</span> <span class="p">(</span><span class="k">inout</span> <span class="kt">URLRequest</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Siesta8ResourceC7request_0C8MutationAA7Request_pAA0E6MethodO_y10Foundation10URLRequestVzctF"></a>
                    <a name="//apple_ref/swift/Method/request(_:requestMutation:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Siesta8ResourceC7request_0C8MutationAA7Request_pAA0E6MethodO_y10Foundation10URLRequestVzctF">request(_:<wbr>requestMutation:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Initiates a network request for the given resource.</p>

<p>Handle the result of the request by attaching response handlers:</p>
<pre class="highlight swift"><code><span class="n">resource</span><span class="o">.</span><span class="nf">request</span><span class="p">(</span><span class="o">.</span><span class="k">get</span><span class="p">)</span>
    <span class="o">.</span><span class="n">onSuccess</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}</span>
    <span class="o">.</span><span class="n">onFailure</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}</span>
</code></pre>

<p>See <code><a href="../Protocols/Request.html">Request</a></code> for a complete list of hooks.</p>

<p>Note that, unlike load() and loadIfNeeded(), this method does <em>not</em> update latestData or latestError,
and does not notify resource observers about the result.</p>
<div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <p>SeeAlso:</p>

<ul>
<li><code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC4loadAA7Request_pyF">load()</a></code></li>
<li><code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC12loadIfNeededAA7Request_pSgyF">loadIfNeeded()</a></code></li>
</ul>

</div><div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <p>SeeAlso:</p>

<ul>
<li><code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC7request_4data11contentType0C8MutationAA7Request_pAA0H6MethodO_10Foundation4DataVSSyAK10URLRequestVzctF">request(_:data:contentType:requestMutation:)</a></code></li>
<li><code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC7request_4text11contentType8encoding0C8MutationAA7Request_pAA0I6MethodO_S3S10FoundationE8EncodingVyAL10URLRequestVzctF">request(_:text:contentType:encoding:requestMutation:)</a></code></li>
<li><code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC7request_4json11contentType0C8MutationAA7Request_pAA0H6MethodO_AA15JSONConvertible_pSSy10Foundation10URLRequestVzctF">request(_:json:contentType:requestMutation:)</a></code></li>
<li><code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC7request_10urlEncoded0C8MutationAA7Request_pAA0G6MethodO_SDyS2SGy10Foundation10URLRequestVzctF">request(_:urlEncoded:requestMutation:)</a></code></li>
</ul>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">request</span><span class="p">(</span>
        <span class="n">_</span> <span class="nv">method</span><span class="p">:</span> <span class="kt"><a href="../Enums/RequestMethod.html">RequestMethod</a></span><span class="p">,</span>
        <span class="n">requestMutation</span> <span class="nv">adHocMutation</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="kt"><a href="../Classes/Resource.html#/s:6Siesta8ResourceC15RequestMutationa">RequestMutation</a></span> <span class="o">=</span> <span class="p">{</span> <span class="n">_</span> <span class="k">in</span> <span class="p">})</span>
    <span class="o">-&gt;</span> <span class="kt"><a href="../Protocols/Request.html">Request</a></span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>method</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The HTTP verb to use for the request</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>requestMutation</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>An optional callback to change details of the request before it is sent.
Does nothing by default. Note that this is applied <em>before</em> any mutations configured with
<code><a href="../Structs/Configuration.html#/s:6Siesta13ConfigurationV14mutateRequests4withyy10Foundation10URLRequestVzc_tF">Configuration.mutateRequests(...)</a></code>. This allows configured mutations to inspect and alter the request after
it is fully populated.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:@M@Siesta@objc(cs)BOSResource(py)isUpToDate"></a>
                    <a name="//apple_ref/swift/Property/isUpToDate" class="dashAnchor"></a>
                    <a class="token" href="#/c:@M@Siesta@objc(cs)BOSResource(py)isUpToDate">isUpToDate</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>True if the resource’s local state is up to date according to staleness configuration.</p>

<p>“Up to date” means that either:</p>

<ul>
<li>the resource has data (i.e. <code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC10latestDataAA6EntityVyypGSgvp">latestData</a></code> is not nil),</li>
<li>the last request succeeded (i.e. <code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC11latestErrorAA07RequestD0VSgvp">latestError</a></code> <em>is</em> nil), and</li>
<li>the timestamp on <code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC10latestDataAA6EntityVyypGSgvp">latestData</a></code> is more recent than <code>expirationTime</code> seconds ago,</li>
</ul>

<p>…or:</p>

<ul>
<li>the last request failed (i.e. <code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC11latestErrorAA07RequestD0VSgvp">latestError</a></code> is not nil), and</li>
<li>the timestamp on <code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC11latestErrorAA07RequestD0VSgvp">latestError</a></code> is more recent than <code>retryTime</code> seconds ago.</li>
</ul>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@objc</span>
<span class="kd">public</span> <span class="k">var</span> <span class="nv">isUpToDate</span><span class="p">:</span> <span class="kt">Bool</span> <span class="p">{</span> <span class="k">get</span> <span class="p">}</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Siesta8ResourceC12loadIfNeededAA7Request_pSgyF"></a>
                    <a name="//apple_ref/swift/Method/loadIfNeeded()" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Siesta8ResourceC12loadIfNeededAA7Request_pSgyF">loadIfNeeded()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Ensures that there is a load request in progress for this resource, unless the resource is already up to date.</p>

<p>If the resource is not up to date and there is no load request already in progress, this method calls <code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC4loadAA7Request_pyF">load()</a></code>.</p>
<div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <ul>
<li><code><a href="../Classes/Resource.html#/c:@M@Siesta@objc(cs)BOSResource(py)isUpToDate">isUpToDate</a></code></li>
<li><code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC4loadAA7Request_pyF">load()</a></code></li>
</ul>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@discardableResult</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="nf">loadIfNeeded</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Protocols/Request.html">Request</a></span><span class="p">?</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Siesta8ResourceC4loadAA7Request_pyF"></a>
                    <a name="//apple_ref/swift/Method/load()" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Siesta8ResourceC4loadAA7Request_pyF">load()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Initiates a GET request to update the state of this resource. This method forces a new request even if there is
already one in progress. (See <code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC12loadIfNeededAA7Request_pSgyF">loadIfNeeded()</a></code> for comparison.) This is the method to call if you want to force
a check for new data — in response to a manual refresh, for example, or because you know that the data changed
on the server.</p>

<p>Sequence of events:</p>

<ol>
<li>This resource’s <code><a href="../Classes/Resource.html#/c:@M@Siesta@objc(cs)BOSResource(py)isLoading">isLoading</a></code> property becomes true, and remains true until the request either succeeds or fails.
Observers immedately receive <code><a href="../Enums/ResourceEvent.html#/s:6Siesta13ResourceEventO9requestedyA2CmF">ResourceEvent.requested</a></code>.</li>
<li>If the request is cancelled before completion, observers receive <code><a href="../Enums/ResourceEvent.html#/s:6Siesta13ResourceEventO16requestCancelledyA2CmF">ResourceEvent.requestCancelled</a></code>.</li>
<li>If the server returns a success response, that goes in <code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC10latestDataAA6EntityVyypGSgvp">latestData</a></code>, and <code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC11latestErrorAA07RequestD0VSgvp">latestError</a></code> becomes nil.
Observers receive <code>ResourceEvent.newData</code>.</li>
<li>If the server returns a 304, <code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC10latestDataAA6EntityVyypGSgvp">latestData</a></code>’s timestamp is updated but the entity is otherwise untouched.
<code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC11latestErrorAA07RequestD0VSgvp">latestError</a></code> becomes nil. Observers receive <code><a href="../Enums/ResourceEvent.html#/s:6Siesta13ResourceEventO11notModifiedyA2CmF">ResourceEvent.notModified</a></code>.</li>
<li>If the request fails for any reason, whether client-, server-, or network-related, observers receive
<code><a href="../Enums/ResourceEvent.html#/s:6Siesta13ResourceEventO5erroryA2CmF">ResourceEvent.error</a></code>. Note that <code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC10latestDataAA6EntityVyypGSgvp">latestData</a></code> does <em>not</em> become nil; the last valid response always sticks
around until another valid response arrives.</li>
</ol>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@discardableResult</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="nf">load</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Protocols/Request.html">Request</a></span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Siesta8ResourceC4load5usingAA7Request_pAaF_p_tF"></a>
                    <a name="//apple_ref/swift/Method/load(using:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Siesta8ResourceC4load5usingAA7Request_pAaF_p_tF">load(using:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Updates the state of this resource using the result of the given request. Use this method when you want a request
to update <code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC10latestDataAA6EntityVyypGSgvp">latestData</a></code> or <code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC11latestErrorAA07RequestD0VSgvp">latestError</a></code> and notify observers just as <code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC4loadAA7Request_pyF">load()</a></code> would, but:</p>

<ul>
<li>you need to use a request method other than GET,</li>
<li>you need to set headers or other request options, but just for this one request (so that <code><a href="../Classes/Service.html#/s:6Siesta7ServiceC9configure_14requestMethods11description10configureryAA31ConfigurationPatternConvertible_p_SayAA13RequestMethodOGSgSSSgyAA0H0VzctF">Service.configure(...)</a></code>
won’t work), or</li>
<li>for some arcane reason, you want a request for a <em>different</em> resource to update the state of this one.</li>
</ul>

<p>For example, an authentication resource might return its state only in response to a POST:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">auth</span> <span class="o">=</span> <span class="kt">MyAPI</span><span class="o">.</span><span class="n">authentication</span>
<span class="n">auth</span><span class="o">.</span><span class="nf">load</span><span class="p">(</span><span class="nv">using</span><span class="p">:</span>
  <span class="n">auth</span><span class="o">.</span><span class="nf">request</span><span class="p">(</span>
      <span class="o">.</span><span class="n">post</span><span class="p">,</span> <span class="nv">json</span><span class="p">:</span> <span class="p">[</span><span class="s">"user"</span><span class="p">:</span> <span class="n">user</span><span class="p">,</span> <span class="s">"password"</span><span class="p">:</span> <span class="n">pass</span><span class="p">]))</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@discardableResult</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="nf">load</span><span class="p">(</span><span class="n">using</span> <span class="nv">req</span><span class="p">:</span> <span class="kt"><a href="../Protocols/Request.html">Request</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Protocols/Request.html">Request</a></span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:@M@Siesta@objc(cs)BOSResource(im)cancelLoadIfUnobserved"></a>
                    <a name="//apple_ref/swift/Method/cancelLoadIfUnobserved()" class="dashAnchor"></a>
                    <a class="token" href="#/c:@M@Siesta@objc(cs)BOSResource(im)cancelLoadIfUnobserved">cancelLoadIfUnobserved()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>If this resource has no observers, cancels all <code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC12loadRequestsSayAA7Request_pGvp">loadRequests</a></code>.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@objc</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="nf">cancelLoadIfUnobserved</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:@M@Siesta@objc(cs)BOSResource(im)cancelLoadIfUnobservedAfterDelay:then:"></a>
                    <a name="//apple_ref/swift/Method/cancelLoadIfUnobserved(afterDelay:then:)" class="dashAnchor"></a>
                    <a class="token" href="#/c:@M@Siesta@objc(cs)BOSResource(im)cancelLoadIfUnobservedAfterDelay:then:">cancelLoadIfUnobserved(afterDelay:<wbr>then:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Convenience to call <code><a href="../Classes/Resource.html#/c:@M@Siesta@objc(cs)BOSResource(im)cancelLoadIfUnobserved">cancelLoadIfUnobserved()</a></code> after a delay. Useful for situations such as table view scrolling
where views are being rapidly discarded and recreated, and you no longer need the resource, but want to give other
views a chance to express interest in it before canceling any requests.</p>

<p>The <code>callback</code> is called after the given delay, regardless of whether the request was cancelled.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@objc</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="nf">cancelLoadIfUnobserved</span><span class="p">(</span><span class="n">afterDelay</span> <span class="nv">delay</span><span class="p">:</span> <span class="kt">TimeInterval</span><span class="p">,</span> <span class="n">then</span> <span class="nv">callback</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="o">=</span> <span class="p">{})</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Local%20state%20changes"></a>
                <a name="//apple_ref/swift/Section/Local state changes" class="dashAnchor"></a>
                <div class="section-name-container">
                  <a class="section-name-link" href="#/Local%20state%20changes"></a>
                  <h3 class="section-name"><p>Local state changes</p>
</h3>
                </div>
              </div>
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Siesta8ResourceC17overrideLocalData4withyAA6EntityVyypG_tF"></a>
                    <a name="//apple_ref/swift/Method/overrideLocalData(with:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Siesta8ResourceC17overrideLocalData4withyAA6EntityVyypG_tF">overrideLocalData(with:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Directly updates <code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC10latestDataAA6EntityVyypGSgvp">latestData</a></code> without touching the network. Clears <code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC11latestErrorAA07RequestD0VSgvp">latestError</a></code> and broadcasts
<code>ResourceEvent.newData</code> to observers.</p>

<p>This method is useful for incremental and optimistic updates.</p>

<p>You may send a request which does <em>not</em> return the complete state of the resource in the response body,
but which still changes the state of the resource. You could handle this by initiating a refresh immedately
after success:</p>
<pre class="highlight swift"><code><span class="n">resource</span><span class="o">.</span><span class="nf">request</span><span class="p">(</span><span class="o">.</span><span class="n">post</span><span class="p">,</span> <span class="nv">json</span><span class="p">:</span> <span class="p">[</span><span class="s">"name"</span><span class="p">:</span> <span class="s">"Fred"</span><span class="p">])</span>
  <span class="o">.</span><span class="n">onSuccess</span> <span class="p">{</span> <span class="n">_</span> <span class="k">in</span> <span class="n">resource</span><span class="o">.</span><span class="nf">load</span><span class="p">()</span> <span class="p">}</span>
</code></pre>

<p>However, if you already <em>know</em> the resulting state of the resource given a success response, you can avoid the
second network call by updating the entity yourself:</p>
<pre class="highlight swift"><code><span class="n">resource</span><span class="o">.</span><span class="nf">request</span><span class="p">(</span><span class="o">.</span><span class="n">post</span><span class="p">,</span> <span class="nv">json</span><span class="p">:</span> <span class="p">[</span><span class="s">"name"</span><span class="p">:</span> <span class="s">"Fred"</span><span class="p">])</span>
  <span class="o">.</span><span class="n">onSuccess</span> <span class="p">{</span>
      <span class="n">partialEntity</span> <span class="k">in</span>

      <span class="c1">// Make a mutable copy of the current content</span>
      <span class="k">guard</span> <span class="n">resource</span><span class="o">.</span><span class="n">latestData</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="k">else</span> <span class="p">{</span>
          <span class="n">resource</span><span class="o">.</span><span class="nf">load</span><span class="p">()</span>  <span class="c1">// No existing entity to update, so refresh</span>
          <span class="k">return</span>
      <span class="p">}</span>

      <span class="c1">// Do the incremental update</span>
      <span class="k">var</span> <span class="nv">updatedContent</span> <span class="o">=</span> <span class="n">resource</span><span class="o">.</span><span class="n">jsonDict</span>
      <span class="n">updatedContent</span><span class="p">[</span><span class="s">"name"</span><span class="p">]</span> <span class="o">=</span> <span class="n">partialEntity</span><span class="o">.</span><span class="n">jsonDict</span><span class="p">[</span><span class="s">"newName"</span><span class="p">]</span>

      <span class="c1">// Make that the resource’s new entity</span>
      <span class="n">resource</span><span class="o">.</span><span class="nf">overrideLocalContent</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">updatedContent</span><span class="p">)</span>
  <span class="p">}</span>
</code></pre>

<p>Use this technique with caution!</p>

<p>Note that the data you pass does <em>not</em> go through the standard <code><a href="../Protocols/ResponseTransformer.html">ResponseTransformer</a></code> chain. You should pass data
as if it was already parsed, not in its raw form as the server would return it. For example, in the code above,
<code>updatedContent</code> is a <code>Dictionary</code>, not <code>Data</code> containing encoded JSON.</p>
<div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <code><a href="../Classes/Resource.html#/c:@M@Siesta@objc(cs)BOSResource(im)overrideLocalContentWith:">overrideLocalContent(with:)</a></code>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">overrideLocalData</span><span class="p">(</span><span class="n">with</span> <span class="nv">entity</span><span class="p">:</span> <span class="kt"><a href="../Structs/Entity.html">Entity</a></span><span class="o">&lt;</span><span class="kt">Any</span><span class="o">&gt;</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:@M@Siesta@objc(cs)BOSResource(im)overrideLocalContentWith:"></a>
                    <a name="//apple_ref/swift/Method/overrideLocalContent(with:)" class="dashAnchor"></a>
                    <a class="token" href="#/c:@M@Siesta@objc(cs)BOSResource(im)overrideLocalContentWith:">overrideLocalContent(with:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Convenience method to replace the <code>content</code> of <code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC10latestDataAA6EntityVyypGSgvp">latestData</a></code> without altering the content type or other headers.</p>

<p>If this resource has no content, this method sets the content type to <code>application/binary</code>.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@objc</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="nf">overrideLocalContent</span><span class="p">(</span><span class="n">with</span> <span class="nv">content</span><span class="p">:</span> <span class="kt">Any</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:@M@Siesta@objc(cs)BOSResource(im)invalidate"></a>
                    <a name="//apple_ref/swift/Method/invalidate()" class="dashAnchor"></a>
                    <a class="token" href="#/c:@M@Siesta@objc(cs)BOSResource(im)invalidate">invalidate()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Forces the next call to <code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC12loadIfNeededAA7Request_pSgyF">loadIfNeeded()</a></code> to trigger a request, even if the current content is fresh.
Leaves the current values of <code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC10latestDataAA6EntityVyypGSgvp">latestData</a></code> and <code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC11latestErrorAA07RequestD0VSgvp">latestError</a></code> intact (including their timestamps).</p>

<p>Use this if you know the current content is stale, but don’t want to trigger a network request right away.</p>

<p>Any update to <code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC10latestDataAA6EntityVyypGSgvp">latestData</a></code> or <code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC11latestErrorAA07RequestD0VSgvp">latestError</a></code> — including a call to <code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC17overrideLocalData4withyAA6EntityVyypG_tF">overrideLocalData(...)</a></code> or
<code><a href="../Classes/Resource.html#/c:@M@Siesta@objc(cs)BOSResource(im)overrideLocalContentWith:">overrideLocalContent(...)</a></code> — clears the invalidation.</p>
<div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <code><a href="../Classes/Resource.html#/c:@M@Siesta@objc(cs)BOSResource(im)wipe">wipe()</a></code>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@objc</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="nf">invalidate</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:@M@Siesta@objc(cs)BOSResource(im)wipe"></a>
                    <a name="//apple_ref/swift/Method/wipe()" class="dashAnchor"></a>
                    <a class="token" href="#/c:@M@Siesta@objc(cs)BOSResource(im)wipe">wipe()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Resets this resource to its pristine state, as if newly created.</p>

<ul>
<li>Sets <code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC10latestDataAA6EntityVyypGSgvp">latestData</a></code> to nil.</li>
<li>Sets <code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC11latestErrorAA07RequestD0VSgvp">latestError</a></code> to nil.</li>
<li>Cancels all resource requests in progress.</li>
<li>Triggers a cache fetch if there is a persistent cache configured for this resource.</li>
</ul>

<p>Observers receive a <code>newData(.wipe)</code> event. Requests in progress call completion hooks with a cancellation error.</p>
<div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <code><a href="../Classes/Resource.html#/c:@M@Siesta@objc(cs)BOSResource(im)invalidate">invalidate()</a></code>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@objc</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="nf">wipe</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Siesta8ResourceC20configurationPattern3forSb10Foundation3URLVcAA7ServiceC_tF"></a>
                    <a name="//apple_ref/swift/Method/configurationPattern(for:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Siesta8ResourceC20configurationPattern3forSb10Foundation3URLVcAA7ServiceC_tF">configurationPattern(for:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Matches this specific resource when passed as a pattern to <code><a href="../Classes/Service.html#/s:6Siesta7ServiceC9configure_14requestMethods11description10configureryAA31ConfigurationPatternConvertible_p_SayAA13RequestMethodOGSgSSSgyAA0H0VzctF">Service.configure(...)</a></code>.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">configurationPattern</span><span class="p">(</span><span class="k">for</span> <span class="nv">service</span><span class="p">:</span> <span class="kt"><a href="../Classes/Service.html">Service</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="kt">URL</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Siesta8ResourceC30entityForTypedContentAccessorsAA6EntityVyypGSgvp"></a>
                    <a name="//apple_ref/swift/Property/entityForTypedContentAccessors" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Siesta8ResourceC30entityForTypedContentAccessorsAA6EntityVyypGSgvp">entityForTypedContentAccessors</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Typed content accessors such as <code>.text</code> and <code>.jsonDict</code> apply to <code>latestData?.content</code>.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">entityForTypedContentAccessors</span><span class="p">:</span> <span class="kt"><a href="../Structs/Entity.html">Entity</a></span><span class="o">&lt;</span><span class="kt">Any</span><span class="o">&gt;</span><span class="p">?</span> <span class="p">{</span> <span class="k">get</span> <span class="p">}</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Requests%20with%20Hard-Wired%20Responses"></a>
                <a name="//apple_ref/swift/Section/Requests with Hard-Wired Responses" class="dashAnchor"></a>
                <div class="section-name-container">
                  <a class="section-name-link" href="#/Requests%20with%20Hard-Wired%20Responses"></a>
                  <h3 class="section-name"><p>Requests with Hard-Wired Responses</p>
</h3>
                </div>
              </div>
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Siesta8ResourceC13failedRequest9returningAA0D0_pAA0D5ErrorV_tFZ"></a>
                    <a name="//apple_ref/swift/Method/failedRequest(returning:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Siesta8ResourceC13failedRequest9returningAA0D0_pAA0D5ErrorV_tFZ">failedRequest(returning:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns a request that immedately fails, without ever touching the network or applying the transformer pipeline.</p>

<p>This is useful for performing pre-request validation: if you know a request is invalid before you even send it,
you can return an immediate error response that looks just like any other Siesta error.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">static</span> <span class="kd">func</span> <span class="nf">failedRequest</span><span class="p">(</span><span class="n">returning</span> <span class="nv">error</span><span class="p">:</span> <span class="kt"><a href="../Structs/RequestError.html">RequestError</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Protocols/Request.html">Request</a></span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Siesta8ResourceC16hardWiredRequest9returningAA0E0_pAA8ResponseO_tFZ"></a>
                    <a name="//apple_ref/swift/Method/hardWiredRequest(returning:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Siesta8ResourceC16hardWiredRequest9returningAA0E0_pAA8ResponseO_tFZ">hardWiredRequest(returning:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns a request that immediately and always returns the given response, without ever touching the network
or applying the transformer pipeline.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">static</span> <span class="kd">func</span> <span class="nf">hardWiredRequest</span><span class="p">(</span><span class="n">returning</span> <span class="nv">response</span><span class="p">:</span> <span class="kt"><a href="../Enums/Response.html">Response</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Protocols/Request.html">Request</a></span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Requests%20with%20Custom%20Logic"></a>
                <a name="//apple_ref/swift/Section/Requests with Custom Logic" class="dashAnchor"></a>
                <div class="section-name-container">
                  <a class="section-name-link" href="#/Requests%20with%20Custom%20Logic"></a>
                  <h3 class="section-name"><p>Requests with Custom Logic</p>
</h3>
                </div>
              </div>
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Siesta8ResourceC14prepareRequest5usingAA0D0_pAA0D8Delegate_p_tFZ"></a>
                    <a name="//apple_ref/swift/Method/prepareRequest(using:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Siesta8ResourceC14prepareRequest5usingAA0D0_pAA0D8Delegate_p_tFZ">prepareRequest(using:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Creates (but does <strong>not</strong> start) a new request using custom request logic.</p>

<p>This method allows you to make a request using custom / external logic that does not use the service’s normal
network provider. For example, you could use this to wrap a third-party OAUth library as a Siesta request, then
use <code><a href="../Structs/Configuration.html#/s:6Siesta13ConfigurationV16decorateRequests4withyAA7Request_pAA8ResourceC_AaF_ptc_tF">Configuration.decorateRequests(...)</a></code> and <code><a href="../Protocols/Request.html#/s:6Siesta7RequestPAAE7chained13whenCompletedAaB_pAA0B11ChainActionOAA12ResponseInfoVc_tF">Request.chained(...)</a></code> to wait for OAuth before proceeding with the
normal Siesta request.</p>
<div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <code><a href="../Protocols/RequestDelegate.html">RequestDelegate</a></code>

</div><div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <code><a href="../Protocols/Request.html#/s:6Siesta7RequestP5startAaB_pyF">Request.start()</a></code>

</div><div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC16hardWiredRequest9returningAA0E0_pAA8ResponseO_tFZ">Resource.hardWiredRequest(returning:)</a></code>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">static</span> <span class="kd">func</span> <span class="nf">prepareRequest</span><span class="p">(</span><span class="n">using</span> <span class="nv">delegate</span><span class="p">:</span> <span class="kt"><a href="../Protocols/RequestDelegate.html">RequestDelegate</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Protocols/Request.html">Request</a></span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Request%20Creation%20Conveniences"></a>
                <a name="//apple_ref/swift/Section/Request Creation Conveniences" class="dashAnchor"></a>
                <div class="section-name-container">
                  <a class="section-name-link" href="#/Request%20Creation%20Conveniences"></a>
                  <h3 class="section-name"><p>Request Creation Conveniences</p>
</h3>
                </div>
              </div>
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Siesta8ResourceC7request_4data11contentType0C8MutationAA7Request_pAA0H6MethodO_10Foundation4DataVSSyAK10URLRequestVzctF"></a>
                    <a name="//apple_ref/swift/Method/request(_:data:contentType:requestMutation:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Siesta8ResourceC7request_4data11contentType0C8MutationAA7Request_pAA0H6MethodO_10Foundation4DataVSSyAK10URLRequestVzctF">request(_:<wbr>data:<wbr>contentType:<wbr>requestMutation:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Convenience method to initiate a request with a body containing arbitrary data.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">request</span><span class="p">(</span>
        <span class="n">_</span> <span class="nv">method</span><span class="p">:</span>        <span class="kt"><a href="../Enums/RequestMethod.html">RequestMethod</a></span><span class="p">,</span>
        <span class="nv">data</span><span class="p">:</span>            <span class="kt">Data</span><span class="p">,</span>
        <span class="nv">contentType</span><span class="p">:</span>     <span class="kt">String</span><span class="p">,</span>
        <span class="nv">requestMutation</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="kt"><a href="../Classes/Resource.html#/s:6Siesta8ResourceC15RequestMutationa">RequestMutation</a></span> <span class="o">=</span> <span class="p">{</span> <span class="n">_</span> <span class="k">in</span> <span class="p">})</span>
    <span class="o">-&gt;</span> <span class="kt"><a href="../Protocols/Request.html">Request</a></span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>method</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The HTTP method of the request.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>data</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The body of the request.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>contentType</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The value for the request’s <code>Content-Type</code> header. The priority order is as follows:

<ul>
<li>any content-type set in <code><a href="../Structs/Configuration.html#/s:6Siesta13ConfigurationV14mutateRequests4withyy10Foundation10URLRequestVzc_tF">Configuration.mutateRequests(...)</a></code> overrides</li>
<li>any content-type set in <code>requestMutation</code>, which overrides</li>
<li>this parameter, which overrides</li>
<li>any content-type set with <code><a href="../Structs/Configuration.html#/s:6Siesta13ConfigurationV7headersSDyS2SGvp">Configuration.headers</a></code>.</li>
</ul></p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>requestMutation</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Allows you to override details fo the HTTP request before it is sent.
See <code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC7request_0C8MutationAA7Request_pAA0E6MethodO_y10Foundation10URLRequestVzctF">request(_:requestMutation:)</a></code>.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Siesta8ResourceC7request_4text11contentType8encoding0C8MutationAA7Request_pAA0I6MethodO_S3S10FoundationE8EncodingVyAL10URLRequestVzctF"></a>
                    <a name="//apple_ref/swift/Method/request(_:text:contentType:encoding:requestMutation:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Siesta8ResourceC7request_4text11contentType8encoding0C8MutationAA7Request_pAA0I6MethodO_S3S10FoundationE8EncodingVyAL10URLRequestVzctF">request(_:<wbr>text:<wbr>contentType:<wbr>encoding:<wbr>requestMutation:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Convenience method to initiate a request with a text body.</p>

<p>If the string cannot be encoded using the given encoding, this methods triggers the <code>onFailure(...)</code> request hook
immediately, without touching the network.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">request</span><span class="p">(</span>
        <span class="n">_</span> <span class="nv">method</span><span class="p">:</span>        <span class="kt"><a href="../Enums/RequestMethod.html">RequestMethod</a></span><span class="p">,</span>
        <span class="nv">text</span><span class="p">:</span>            <span class="kt">String</span><span class="p">,</span>
        <span class="nv">contentType</span><span class="p">:</span>     <span class="kt">String</span> <span class="o">=</span> <span class="s">"text/plain"</span><span class="p">,</span>
        <span class="nv">encoding</span><span class="p">:</span>        <span class="kt">String</span><span class="o">.</span><span class="kt">Encoding</span> <span class="o">=</span> <span class="kt">String</span><span class="o">.</span><span class="kt">Encoding</span><span class="o">.</span><span class="n">utf8</span><span class="p">,</span>
        <span class="nv">requestMutation</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="kt"><a href="../Classes/Resource.html#/s:6Siesta8ResourceC15RequestMutationa">RequestMutation</a></span> <span class="o">=</span> <span class="p">{</span> <span class="n">_</span> <span class="k">in</span> <span class="p">})</span>
    <span class="o">-&gt;</span> <span class="kt"><a href="../Protocols/Request.html">Request</a></span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>contentType</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p><code>text/plain</code> by default.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>encoding</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>UTF-8 (<code>NSUTF8StringEncoding</code>) by default.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Siesta8ResourceC7request_4json11contentType0C8MutationAA7Request_pAA0H6MethodO_AA15JSONConvertible_pSSy10Foundation10URLRequestVzctF"></a>
                    <a name="//apple_ref/swift/Method/request(_:json:contentType:requestMutation:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Siesta8ResourceC7request_4json11contentType0C8MutationAA7Request_pAA0H6MethodO_AA15JSONConvertible_pSSy10Foundation10URLRequestVzctF">request(_:<wbr>json:<wbr>contentType:<wbr>requestMutation:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Convenience method to initiate a request with a JSON body.</p>

<p>If the <code>json</code> cannot be encoded as JSON, e.g. if it is a dictionary with non-JSON-convertible data, this methods
triggers the <code>onFailure(...)</code> request hook immediately, without touching the network.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">request</span><span class="p">(</span>
        <span class="n">_</span> <span class="nv">method</span><span class="p">:</span>        <span class="kt"><a href="../Enums/RequestMethod.html">RequestMethod</a></span><span class="p">,</span>
        <span class="nv">json</span><span class="p">:</span>            <span class="kt"><a href="../Other%20Protocols.html#/s:6Siesta15JSONConvertibleP">JSONConvertible</a></span><span class="p">,</span>
        <span class="nv">contentType</span><span class="p">:</span>     <span class="kt">String</span> <span class="o">=</span> <span class="s">"application/json"</span><span class="p">,</span>
        <span class="nv">requestMutation</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="kt"><a href="../Classes/Resource.html#/s:6Siesta8ResourceC15RequestMutationa">RequestMutation</a></span> <span class="o">=</span> <span class="p">{</span> <span class="n">_</span> <span class="k">in</span> <span class="p">})</span>
    <span class="o">-&gt;</span> <span class="kt"><a href="../Protocols/Request.html">Request</a></span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>contentType</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p><code>application/json</code> by default.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Siesta8ResourceC7request_10urlEncoded0C8MutationAA7Request_pAA0G6MethodO_SDyS2SGy10Foundation10URLRequestVzctF"></a>
                    <a name="//apple_ref/swift/Method/request(_:urlEncoded:requestMutation:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Siesta8ResourceC7request_10urlEncoded0C8MutationAA7Request_pAA0G6MethodO_SDyS2SGy10Foundation10URLRequestVzctF">request(_:<wbr>urlEncoded:<wbr>requestMutation:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Convenience method to initiate a request with URL-encoded parameters in the meesage body.</p>

<p>This method performs all necessary escaping, and has full Unicode support in both keys and values.</p>

<p>The content type is <code>application/x-www-form-urlencoded</code>.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">request</span><span class="p">(</span>
        <span class="n">_</span> <span class="nv">method</span><span class="p">:</span>          <span class="kt"><a href="../Enums/RequestMethod.html">RequestMethod</a></span><span class="p">,</span>
        <span class="n">urlEncoded</span> <span class="nv">params</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span><span class="p">:</span><span class="kt">String</span><span class="p">],</span>
        <span class="nv">requestMutation</span><span class="p">:</span>   <span class="kd">@escaping</span> <span class="kt"><a href="../Classes/Resource.html#/s:6Siesta8ResourceC15RequestMutationa">RequestMutation</a></span> <span class="o">=</span> <span class="p">{</span> <span class="n">_</span> <span class="k">in</span> <span class="p">})</span>
    <span class="o">-&gt;</span> <span class="kt"><a href="../Protocols/Request.html">Request</a></span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/URL%20navigation"></a>
                <a name="//apple_ref/swift/Section/URL navigation" class="dashAnchor"></a>
                <div class="section-name-container">
                  <a class="section-name-link" href="#/URL%20navigation"></a>
                  <h3 class="section-name"><p>URL navigation</p>
</h3>
                </div>
              </div>
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:@CM@Siesta@objc(cs)BOSResource(im)child:"></a>
                    <a name="//apple_ref/swift/Method/child(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/c:@CM@Siesta@objc(cs)BOSResource(im)child:">child(_:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns the resource with the given string appended to the path of this resource’s URL, with a joining slash
inserted if necessary.</p>

<p>Use this method for hierarchical resource navigation. The typical use case is constructing a resource URL from
path components and IDs:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">resource</span> <span class="o">=</span> <span class="n">service</span><span class="o">.</span><span class="nf">resource</span><span class="p">(</span><span class="s">"/widgets"</span><span class="p">)</span>
<span class="n">resource</span><span class="o">.</span><span class="nf">child</span><span class="p">(</span><span class="s">"123"</span><span class="p">)</span><span class="o">.</span><span class="nf">child</span><span class="p">(</span><span class="s">"details"</span><span class="p">)</span>
  <span class="c1">//→ /widgets/123/details</span>
</code></pre>

<p>This method <em>always</em> returns a subpath of the receiving resource. It does not apply any special
interpretation to strings such <code>./</code>, <code>//</code> or <code>?</code> that have significance in other URL-related
situations. Special characters are escaped when necessary, and otherwise ignored. See
<a href="https://bustoutsolutions.github.io/siesta/specs/#ResourcePathsSpec"><code>ResourcePathsSpec</code></a>
for details.</p>
<div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <code><a href="../Classes/Resource.html#/c:@CM@Siesta@objc(cs)BOSResource(im)relative:">relative(_:)</a></code>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@objc</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="nf">child</span><span class="p">(</span><span class="n">_</span> <span class="nv">subpath</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Resource</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:@CM@Siesta@objc(cs)BOSResource(im)relative:"></a>
                    <a name="//apple_ref/swift/Method/relative(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/c:@CM@Siesta@objc(cs)BOSResource(im)relative:">relative(_:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns the resource with the given URL, using this resource’s URL as the base if it is a relative URL.</p>

<p>This method interprets strings such as <code>.</code>, <code>..</code>, and a leading <code>/</code> or <code>//</code> as relative URLs. It resolves its
parameter much like an <code>href</code> attribute in an HTML document. Refer to
<a href="https://bustoutsolutions.github.io/siesta/specs/#ResourcePathsSpec"><code>ResourcePathsSpec</code></a>
for details.</p>
<div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <ul>
<li><code><a href="../Classes/Resource.html#/c:@CM@Siesta@objc(cs)BOSResource(im)optionalRelative:">optionalRelative(_:)</a></code></li>
<li><code><a href="../Classes/Resource.html#/c:@CM@Siesta@objc(cs)BOSResource(im)child:">child(_:)</a></code></li>
</ul>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@objc</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="nf">relative</span><span class="p">(</span><span class="n">_</span> <span class="nv">href</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Resource</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:@CM@Siesta@objc(cs)BOSResource(im)optionalRelative:"></a>
                    <a name="//apple_ref/swift/Method/optionalRelative(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/c:@CM@Siesta@objc(cs)BOSResource(im)optionalRelative:">optionalRelative(_:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns <code>relative(href)</code> if <code>href</code> is present, and nil if <code>href</code> is nil.</p>

<p>This convenience method is useful for resolving URLs returned as part of a JSON response body:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">href</span> <span class="o">=</span> <span class="n">resource</span><span class="o">.</span><span class="n">jsonDict</span><span class="p">[</span><span class="s">"owner"</span><span class="p">]</span> <span class="k">as?</span> <span class="kt">String</span>  <span class="c1">// href is an optional</span>
<span class="k">if</span> <span class="k">let</span> <span class="nv">ownerResource</span> <span class="o">=</span> <span class="n">resource</span><span class="o">.</span><span class="nf">optionalRelative</span><span class="p">(</span><span class="n">href</span><span class="p">)</span> <span class="p">{</span>
  <span class="o">...</span>
<span class="p">}</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@objc</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="nf">optionalRelative</span><span class="p">(</span><span class="n">_</span> <span class="nv">href</span><span class="p">:</span> <span class="kt">String</span><span class="p">?)</span> <span class="o">-&gt;</span> <span class="kt">Resource</span><span class="p">?</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:@CM@Siesta@objc(cs)BOSResource(im)withParam:value:"></a>
                    <a name="//apple_ref/swift/Method/withParam(_:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/c:@CM@Siesta@objc(cs)BOSResource(im)withParam:value:">withParam(_:<wbr>_:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns this resource with the given parameter added to or changed in the query string.</p>

<p>If <code>value</code> is an empty string, the parameter appears in the query string with no value (e.g. <code>?foo</code>).</p>

<p>If <code>value</code> is nil, however, the parameter is removed.</p>

<p>There is no support for parameters with an equal sign but an empty value (e.g. <code>?foo=</code>).
There is also no support for repeated keys in the query string (e.g. <code>?foo=1&amp;foo=2</code>).
If you need to circumvent either of these restrictions, you can create the query string yourself and pass it to
<code><a href="../Classes/Resource.html#/c:@CM@Siesta@objc(cs)BOSResource(im)relative:">relative(_:)</a></code> instead of using this method. For example:</p>
<pre class="highlight swift"><code><span class="n">resource</span><span class="o">.</span><span class="nf">relative</span><span class="p">(</span><span class="s">"?foo=1&amp;foo=2"</span><span class="p">)</span>
</code></pre>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    <p><code><a href="../Classes/Service.html">Service</a></code> gives out unique <code>Resource</code> instances according to the full URL in string form, and thus
considers query string parameter order significant. Therefore, to ensure that you get the same <code>Resource</code>
instance no matter the order in which you specify parameters, <code>withParam(_:_:)</code> sorts <em>all</em> parameters by name,
including existing ones. Note that <em>only</em> <code>withParam(_:_:)</code> and <code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC10withParamsyACSDyS2SSgGF">withParams(_:)</a></code> do this sorting; if you use
other methods to create query strings, it is up to you to canonicalize your parameter order.</p>

</div><div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <p><code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC10withParamsyACSDyS2SSgGF">withParams(_:)</a></code></p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@objc</span><span class="p">(</span><span class="nv">withParam</span><span class="p">:</span><span class="nv">value</span><span class="p">:)</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="nf">withParam</span><span class="p">(</span><span class="n">_</span> <span class="nv">name</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="n">_</span> <span class="nv">value</span><span class="p">:</span> <span class="kt">String</span><span class="p">?)</span> <span class="o">-&gt;</span> <span class="kt">Resource</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Siesta8ResourceC10withParamsyACSDyS2SSgGF"></a>
                    <a name="//apple_ref/swift/Method/withParams(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Siesta8ResourceC10withParamsyACSDyS2SSgGF">withParams(_:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns this resource with all the entries in the given dictionary added to or changed in the query string.
Equivalent to chained calls to <code><a href="../Classes/Resource.html#/c:@CM@Siesta@objc(cs)BOSResource(im)withParam:value:">withParam(_:_:)</a></code> using each key-value pair in the dictionary.</p>

<p>See <code><a href="../Classes/Resource.html#/c:@CM@Siesta@objc(cs)BOSResource(im)withParam:value:">withParam(_:_:)</a></code> for information about the meaning of nil values and empty strings, multi-values params,
and canonical parameter ordering.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">withParams</span><span class="p">(</span><span class="n">_</span> <span class="nv">params</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span> <span class="p">:</span> <span class="kt">String</span><span class="p">?])</span> <span class="o">-&gt;</span> <span class="kt">Resource</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Observing%20Resources"></a>
                <a name="//apple_ref/swift/Section/Observing Resources" class="dashAnchor"></a>
                <div class="section-name-container">
                  <a class="section-name-link" href="#/Observing%20Resources"></a>
                  <h3 class="section-name"><p>Observing Resources</p>
</h3>
                </div>
              </div>
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Siesta8ResourceC11addObserveryACXDAA0bD0_XlF"></a>
                    <a name="//apple_ref/swift/Method/addObserver(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Siesta8ResourceC11addObserveryACXDAA0bD0_XlF">addObserver(_:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Adds an self-owned observer to this resource, which will receive notifications of changes to resource state.</p>

<p>The resource holds a weak reference to the observer. If there are no strong references to the observer, it is
automatically removed.</p>

<p>Use this method for objects such as <code>UIViewController</code>s which already have a lifecycle of their own, are retained
elsewhere, and also happen to act as observers.</p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    This method prevents duplicates; adding the same observer object a second time has no effect. This is
    <em>not</em> necessarily true of other flavors of <code>addObserver</code>, which accept observers that are not objects.

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@discardableResult</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="nf">addObserver</span><span class="p">(</span><span class="n">_</span> <span class="nv">observerAndOwner</span><span class="p">:</span> <span class="kt"><a href="../Protocols/ResourceObserver.html">ResourceObserver</a></span> <span class="o">&amp;</span> <span class="kt">AnyObject</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="k">Self</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Siesta8ResourceC11addObserver_5ownerACXDAA0bD0_p_yXltF"></a>
                    <a name="//apple_ref/swift/Method/addObserver(_:owner:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Siesta8ResourceC11addObserver_5ownerACXDAA0bD0_p_yXltF">addObserver(_:<wbr>owner:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Adds an observer to this resource, holding a strong reference to it as long as <code>owner</code> still exists.</p>

<p>The resource holds only a weak reference to <code>owner</code>, and as soon as the owner goes away, the observer is removed.</p>

<p>The typical use for this method is for glue objects whose only purpose is to act as an observer, and which would
not normally be retained by anything else.</p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    By default, this method prevents duplicates <strong>only if the observer is an object</strong>. If you pass a struct
    twice, you will receive two calls for every event. This is because only objects have a notion of identity
    in Swift. You can implement <code><a href="../Protocols/ResourceObserver.html#/s:6Siesta16ResourceObserverP16observerIdentitys11AnyHashableVvp">ResourceObserver.observerIdentity</a></code> to make a struct prevent duplicates;
    however, it’s usually easier to ensure that you don’t make redundant calls to this method if you’re
    passing a struct.

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@discardableResult</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="nf">addObserver</span><span class="p">(</span><span class="n">_</span> <span class="nv">observer</span><span class="p">:</span> <span class="kt"><a href="../Protocols/ResourceObserver.html">ResourceObserver</a></span><span class="p">,</span> <span class="nv">owner</span><span class="p">:</span> <span class="kt">AnyObject</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="k">Self</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Siesta8ResourceC11addObserver5owner4file4line7closureACXDyXl_SSSiyAC_AA0B5EventOtctF"></a>
                    <a name="//apple_ref/swift/Method/addObserver(owner:file:line:closure:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Siesta8ResourceC11addObserver5owner4file4line7closureACXDyXl_SSSiyAC_AA0B5EventOtctF">addObserver(owner:<wbr>file:<wbr>line:<wbr>closure:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Adds a closure observer to this resource.</p>

<p>The resource holds a weak reference to <code>owner</code>, and the closure will receive events only as long as <code>owner</code>
still exists.</p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    Unlike the <code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC11addObserveryACXDAA0bD0_XlF">addObserver(_:)</a></code> that takes objects, this method does not prevent duplicates. If you pass a
    closure twice, it will be called twice for every event. It has to be this way, because Swift has no notion
    of closure identity: there is no such thing as “the same” closure in the language, and thus no way to
    detect duplicates. It is thus the caller’s responsibility to prevent redundant calls to this method.

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@discardableResult</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="nf">addObserver</span><span class="p">(</span>
        <span class="nv">owner</span><span class="p">:</span> <span class="kt">AnyObject</span><span class="p">,</span>
        <span class="nv">file</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="kd">#file</span><span class="p">,</span>
        <span class="nv">line</span><span class="p">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="kd">#line</span><span class="p">,</span>
        <span class="nv">closure</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="kt"><a href="../Observing%20Resources.html#/s:6Siesta23ResourceObserverClosurea">ResourceObserverClosure</a></span><span class="p">)</span>
    <span class="o">-&gt;</span> <span class="k">Self</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:@CM@Siesta@objc(cs)BOSResource(im)removeObserversOwnedBy:"></a>
                    <a name="//apple_ref/swift/Method/removeObservers(ownedBy:)" class="dashAnchor"></a>
                    <a class="token" href="#/c:@CM@Siesta@objc(cs)BOSResource(im)removeObserversOwnedBy:">removeObservers(ownedBy:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Removes all observers owned by the given object.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@objc</span><span class="p">(</span><span class="nv">removeObserversOwnedBy</span><span class="p">:)</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="nf">removeObservers</span><span class="p">(</span><span class="n">ownedBy</span> <span class="nv">owner</span><span class="p">:</span> <span class="kt">AnyObject</span><span class="p">?)</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </section>

      </article>
    </div>
    <section class="footer">
      <p>© 2020 <a class="link" href="http://bustoutsolutions.com" target="_blank" rel="noopener" rel="external">Bust Out Solutions</a> under <a class="link" href="https://github.com/bustoutsolutions/siesta/blob/master/LICENSE" target="_blank" rel="noopener" rel="external">open source license</a>.</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="noopener" rel="external">jazzy ♪♫ vX.X.X</a>, a <a class="link" href="https://realm.io" target="_blank" rel="noopener" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
