<!DOCTYPE html>
<html lang="en">
  <head>
    <title>EntityCache Protocol Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset="utf-8">
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
    <script src="../js/lunr.min.js" defer></script>
    <script src="../js/typeahead.jquery.js" defer></script>
    <script src="../js/jazzy.search.js" defer></script>
  </head>
  <body>

    <a name="//apple_ref/swift/Protocol/EntityCache" class="dashAnchor"></a>

    <a title="EntityCache Protocol Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="../index.html">
          Siesta Y.Y.Y Docs
        </a>
         (96% documented)
      </p>
    
      <div class="header-col--secondary">
        <form role="search" action="../search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </div>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/bustoutsolutions/siesta">
            <img class="header-icon" src="../img/gh.png" alt="GitHub"/>
            View on GitHub
          </a>
        </p>
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="../index.html">Siesta Reference</a>
      <img class="carat" src="../img/carat.png" alt=""/>
      EntityCache Protocol Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Resources.html">Resources</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Service.html">Service</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Resource.html">Resource</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/Entity.html">Entity</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/Configuration.html">Configuration</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/ConfigurationPatternConvertible.html">ConfigurationPatternConvertible</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/TypedContentAccessors.html">TypedContentAccessors</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Observing%20Resources.html">Observing Resources</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/ResourceObserver.html">ResourceObserver</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Observing%20Resources.html#/s:6Siesta23ResourceObserverClosurea">ResourceObserverClosure</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/ResourceEvent.html">ResourceEvent</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/ResourceEvent/NewDataSource.html">– NewDataSource</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Requests.html">Requests</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/Request.html">Request</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/RequestMethod.html">RequestMethod</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/RequestState.html">RequestState</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/RequestError.html">RequestError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/RequestError/Cause.html">– Cause</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/Response.html">Response</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/ResponseInfo.html">ResponseInfo</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Request%20Customization.html">Request Customization</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/RequestChainAction.html">RequestChainAction</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/RequestDelegate.html">RequestDelegate</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/RequestCompletionHandler.html">RequestCompletionHandler</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Response%20Pipeline.html">Response Pipeline</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/Pipeline.html">Pipeline</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/PipelineStage.html">PipelineStage</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/PipelineStage/MutationAction.html">– MutationAction</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/PipelineStageKey.html">PipelineStageKey</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/ResponseTransformer.html">ResponseTransformer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/ResponseContentTransformer.html">ResponseContentTransformer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/ResponseContentTransformer/InputTypeMismatchAction.html">– InputTypeMismatchAction</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/StandardTransformer.html">StandardTransformer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Response%20Pipeline.html#/s:6Siesta23JSONResponseTransformeryAA08ResponseC0_pSbF">JSONResponseTransformer(_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Response%20Pipeline.html#/s:6Siesta23TextResponseTransformeryAA0cD0_pSbF">TextResponseTransformer(_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Response%20Pipeline.html#/s:6Siesta24ImageResponseTransformeryAA0cD0_pSbF">ImageResponseTransformer(_:)</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Logging.html">Logging</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/SiestaLog.html">SiestaLog</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/SiestaLog/Category.html">– Category</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Caching.html">Caching</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/EntityCache.html">EntityCache</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Network%20Layer.html">Network Layer</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/NetworkingProvider.html">NetworkingProvider</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/NetworkingProviderConvertible.html">NetworkingProviderConvertible</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/RequestNetworking.html">RequestNetworking</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Network%20Layer.html#/s:6Siesta35RequestNetworkingCompletionCallbacka">RequestNetworkingCompletionCallback</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/RequestTransferMetrics.html">RequestTransferMetrics</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/URLSessionProvider.html">URLSessionProvider</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/SessionTaskContainer.html">SessionTaskContainer</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Other%20Extensions.html">Other Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Other%20Extensions.html#/s:Sa">Array</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Other%20Extensions.html#/s:SD">Dictionary</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Other%20Extensions.html#/c:objc(cs)NSArray">NSArray</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Other%20Extensions.html#/c:objc(cs)NSDictionary">NSDictionary</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/NSRegularExpression.html">NSRegularExpression</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/Set.html">Set</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/String.html">String</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/URL.html">URL</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/URLSession.html">URLSession</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/URLSessionConfiguration.html">URLSessionConfiguration</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Other%20Protocols.html">Other Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Other%20Protocols.html#/s:6Siesta15JSONConvertibleP">JSONConvertible</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/URLConvertible.html">URLConvertible</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Other%20Typealiases.html">Other Type Aliases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Other%20Typealiases.html#/Image">Image</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Other%20Typealiases.html#/s:6Siesta5Imagea">Image</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content top-matter">
            <h1>EntityCache</h1>
              <div class="declaration">
                <div class="language">
                  
                  <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">protocol</span> <span class="kt">EntityCache</span></code></pre>

                </div>
              </div>
            <p>A strategy for saving entities between runs of the app. Allows apps to:</p>

<ul>
<li>launch with the UI in a valid and populated (though possibly stale) state,</li>
<li>recover from low memory situations with fewer reissued network requests, and</li>
<li>work offline.</li>
</ul>

<p>Siesta uses any HTTP request caching provided by the networking layer (e.g. <code>URLCache</code>). Why another type of
caching, then? Because <code>URLCache</code> has a subtle but significant mismatch with the use cases above:</p>

<ul>
<li>The purpose of HTTP caching is to <em>prevent</em> network requests, but what we need is a way to show old data <em>while
issuing new requests</em>. This is the real deal-killer.</li>
</ul>

<p>Additionally, but less crucially:</p>

<ul>
<li>HTTP caching is <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec13.html">complex</a>, and was designed around a set of
goals relating to static assets and shared proxy caches — goals that look very different from reinflating Siesta
resources’ in-memory state. It’s difficult to guarantee that <code>URLCache</code> interacting with the HTTP spec will
exhibit the behavior we want; the logic involved is far more tangled and brittle than implementing a separate cache.</li>
<li>Precisely because of the complexity of these rules, APIs frequently disable all caching via headers.</li>
<li>HTTP caching does not preserve Siesta’s timestamps, which thwarts the staleness logic.</li>
<li>HTTP caching stores raw responses; storing parsed responses offers the opportunity for faster app launch.</li>
</ul>

<p>Siesta currently does not include any implementations of <code>EntityCache</code>, but a future version will.</p>
<div class="aside aside-warning">
    <p class="aside-title">Warning</p>
    <p>Siesta calls <code>EntityCache</code> methods on a GCD background queue, so your implementation <strong>must be
       thread-safe</strong>.</p>

</div><div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <p><code><a href="../Structs/PipelineStage.html#/s:6Siesta13PipelineStageV10cacheUsingyyxAA11EntityCacheRzlF">PipelineStage.cacheUsing(_:)</a></code></p>

</div>

          </div>
        </section>

        <section class="section">
          <div class="section-content">
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Siesta11EntityCacheP3KeyQa"></a>
                    <a name="//apple_ref/swift/Alias/Key" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Siesta11EntityCacheP3KeyQa">Key</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The type this cache uses to look up cache entries. The structure of keys is entirely up to the cache, and is
opaque to Siesta.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">associatedtype</span> <span class="kt">Key</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Siesta11EntityCacheP3key3for3KeyQzSgAA8ResourceC_tF"></a>
                    <a name="//apple_ref/swift/Method/key(for:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Siesta11EntityCacheP3key3for3KeyQzSgAA8ResourceC_tF">key(for:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Provides the key appropriate to this cache for the given resource.</p>

<p>A cache may opt out of handling the given resource by returning nil.</p>

<p>This method is called for both cache writes <em>and</em> for cache reads. The <code>resource</code> therefore may not have
any content. Implementations will almost always examine <code>resource.url</code>. (Cache keys should be <em>at least</em> as unique
as URLs except in very unusual circumstances.) Implementations may also want to examine <code>resource.configuration</code>,
for example to take authentication into account.</p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    This method is always called on the <strong>main thread</strong>. However, the key it returns will be passed repeatedly
    across threads. Siesta therefore strongly recommends making <code><a href="../Protocols/EntityCache.html#/s:6Siesta11EntityCacheP3KeyQa">Key</a></code> a value type, i.e. a struct.

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">key</span><span class="p">(</span><span class="k">for</span> <span class="nv">resource</span><span class="p">:</span> <span class="kt"><a href="../Classes/Resource.html">Resource</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Protocols/EntityCache.html#/s:6Siesta11EntityCacheP3KeyQa">Key</a></span><span class="p">?</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Siesta11EntityCacheP04readB06forKeyAA0B0VyypGSg0F0Qz_tF"></a>
                    <a name="//apple_ref/swift/Method/readEntity(forKey:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Siesta11EntityCacheP04readB06forKeyAA0B0VyypGSg0F0Qz_tF">readEntity(forKey:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Return the entity associated with the given key, or nil if it is not in the cache.</p>

<p>If this method returns an entity, it does <em>not</em> pass through the transformer pipeline. Implementations should
return the entity as if already fully parsed and transformed — with the same type of <code>entity.content</code> that was
originally sent to <code><a href="../Protocols/EntityCache.html#/s:6Siesta11EntityCacheP05writeB0_6forKeyyAA0B0VyypG_0F0QztF">writeEntity(...)</a></code>.</p>
<div class="aside aside-warning">
    <p class="aside-title">Warning</p>
    This method may be called on a background thread. Make sure your implementation is threadsafe.

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">readEntity</span><span class="p">(</span><span class="n">forKey</span> <span class="nv">key</span><span class="p">:</span> <span class="kt"><a href="../Protocols/EntityCache.html#/s:6Siesta11EntityCacheP3KeyQa">Key</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Structs/Entity.html">Entity</a></span><span class="o">&lt;</span><span class="kt">Any</span><span class="o">&gt;</span><span class="p">?</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Siesta11EntityCacheP05writeB0_6forKeyyAA0B0VyypG_0F0QztF"></a>
                    <a name="//apple_ref/swift/Method/writeEntity(_:forKey:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Siesta11EntityCacheP05writeB0_6forKeyyAA0B0VyypG_0F0QztF">writeEntity(_:<wbr>forKey:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Store the given entity in the cache, associated with the given key. The key’s format is arbitrary, and internal
to Siesta. (OK, it’s just the resource’s URL, but you should pretend you don’t know that in your implementation.
Cache implementations should treat the <code>forKey</code> parameter as an opaque value.)</p>

<p>This method receives entities <em>after</em> they have been through the transformer pipeline. The <code>entity.content</code> will
be a parsed object, not raw data.</p>

<p>Implementations are under no obligation to actually perform the write. This method can — and should — examine the
type of the entity’s <code>content</code> and/or its header values, and ignore it if it is not encodable.</p>

<p>Note that this method does not receive a URL as input; if you need to limit caching to specific resources, use
Siesta’s configuration mechanism to control which resources are cacheable.</p>
<div class="aside aside-warning">
    <p class="aside-title">Warning</p>
    The method may be called on a background thread. Make sure your implementation is threadsafe.

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">writeEntity</span><span class="p">(</span><span class="n">_</span> <span class="nv">entity</span><span class="p">:</span> <span class="kt"><a href="../Structs/Entity.html">Entity</a></span><span class="o">&lt;</span><span class="kt">Any</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">forKey</span> <span class="nv">key</span><span class="p">:</span> <span class="kt"><a href="../Protocols/EntityCache.html#/s:6Siesta11EntityCacheP3KeyQa">Key</a></span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Siesta11EntityCacheP06updateB9Timestamp_6forKeyySd_0G0QztF"></a>
                    <a name="//apple_ref/swift/Method/updateEntityTimestamp(_:forKey:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Siesta11EntityCacheP06updateB9Timestamp_6forKeyySd_0G0QztF">updateEntityTimestamp(_:<wbr>forKey:<wbr>)</a>
                    </code>
                      <span class="declaration-note">
                        Default implementation
                      </span>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Update the timestamp of the entity for the given key. If there is no such cache entry, do nothing.</p>

                      </div>
                      <h4>Default Implementation</h4>
                      <div class="default_impl abstract">
                        <p>Reads the entity from the cache, updates its timestamp, then writes it back.</p>

<p>While this default implementation always gives the correct behavior, cache implementations may choose to override
it for performance reasons.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">updateEntityTimestamp</span><span class="p">(</span><span class="n">_</span> <span class="nv">timestamp</span><span class="p">:</span> <span class="kt">TimeInterval</span><span class="p">,</span> <span class="n">forKey</span> <span class="nv">key</span><span class="p">:</span> <span class="kt"><a href="../Protocols/EntityCache.html#/s:6Siesta11EntityCacheP3KeyQa">Key</a></span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Siesta11EntityCacheP06removeB06forKeyy0F0Qz_tF"></a>
                    <a name="//apple_ref/swift/Method/removeEntity(forKey:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Siesta11EntityCacheP06removeB06forKeyy0F0Qz_tF">removeEntity(forKey:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Remove any entities cached for the given key. After a call to <code>removeEntity(forKey:)</code>, subsequent calls to
<code><a href="../Protocols/EntityCache.html#/s:6Siesta11EntityCacheP04readB06forKeyAA0B0VyypGSg0F0Qz_tF">readEntity(forKey:)</a></code> for the same key <strong>must</strong> return nil until the next call to <code><a href="../Protocols/EntityCache.html#/s:6Siesta11EntityCacheP05writeB0_6forKeyyAA0B0VyypG_0F0QztF">writeEntity(_:forKey:)</a></code>.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">removeEntity</span><span class="p">(</span><span class="n">forKey</span> <span class="nv">key</span><span class="p">:</span> <span class="kt"><a href="../Protocols/EntityCache.html#/s:6Siesta11EntityCacheP3KeyQa">Key</a></span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Siesta11EntityCacheP9workQueueSo17OS_dispatch_queueCvp"></a>
                    <a name="//apple_ref/swift/Property/workQueue" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Siesta11EntityCacheP9workQueueSo17OS_dispatch_queueCvp">workQueue</a>
                    </code>
                      <span class="declaration-note">
                        Default implementation
                      </span>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns the GCD queue on which this cache implementation will do its work.</p>

                      </div>
                      <h4>Default Implementation</h4>
                      <div class="default_impl abstract">
                        <p>Returns a concurrent queue with priority <code>QOS_CLASS_USER_INITIATED</code>.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="k">var</span> <span class="nv">workQueue</span><span class="p">:</span> <span class="kt">DispatchQueue</span> <span class="p">{</span> <span class="k">get</span> <span class="p">}</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </section>

      </article>
    </div>
    <section class="footer">
      <p>© 2020 <a class="link" href="http://bustoutsolutions.com" target="_blank" rel="external noopener">Bust Out Solutions</a> under <a class="link" href="https://github.com/bustoutsolutions/siesta/blob/master/LICENSE" target="_blank" rel="external noopener">open source license</a>.</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external noopener">jazzy ♪♫ vX.X.X</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external noopener">Realm</a> project.</p>
    </section>
  </body>
</html>
