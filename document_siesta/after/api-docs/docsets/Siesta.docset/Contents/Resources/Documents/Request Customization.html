<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Request Customization  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset="utf-8">
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>

    <a name="//apple_ref/swift/Section/Request Customization" class="dashAnchor"></a>

    <a title="Request Customization  Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="index.html">
          Siesta Y.Y.Y Docs
        </a>
         (96% documented)
      </p>
    
      <div class="header-col--secondary">
        <form role="search" action="search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </div>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/bustoutsolutions/siesta">
            <img class="header-icon" src="img/gh.png" alt="GitHub"/>
            View on GitHub
          </a>
        </p>
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="index.html">Siesta</a>
      <img class="carat" src="img/carat.png" alt=""/>
      Request Customization  Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Resources.html">Resources</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Service.html">Service</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Resource.html">Resource</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Entity.html">Entity</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Configuration.html">Configuration</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/ConfigurationPatternConvertible.html">ConfigurationPatternConvertible</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/TypedContentAccessors.html">TypedContentAccessors</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Observing%20Resources.html">Observing Resources</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/ResourceObserver.html">ResourceObserver</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Observing%20Resources.html#/s:6Siesta23ResourceObserverClosurea">ResourceObserverClosure</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/ResourceEvent.html">ResourceEvent</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/ResourceEvent/NewDataSource.html">– NewDataSource</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Requests.html">Requests</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/Request.html">Request</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/RequestMethod.html">RequestMethod</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/RequestState.html">RequestState</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/RequestError.html">RequestError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/RequestError/Cause.html">– Cause</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/Response.html">Response</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ResponseInfo.html">ResponseInfo</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Request%20Customization.html">Request Customization</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/RequestChainAction.html">RequestChainAction</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/RequestDelegate.html">RequestDelegate</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/RequestCompletionHandler.html">RequestCompletionHandler</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Response%20Pipeline.html">Response Pipeline</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Pipeline.html">Pipeline</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/PipelineStage.html">PipelineStage</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/PipelineStage/MutationAction.html">– MutationAction</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/PipelineStageKey.html">PipelineStageKey</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/ResponseTransformer.html">ResponseTransformer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ResponseContentTransformer.html">ResponseContentTransformer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ResponseContentTransformer/InputTypeMismatchAction.html">– InputTypeMismatchAction</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/StandardTransformer.html">StandardTransformer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Response%20Pipeline.html#/s:6Siesta23JSONResponseTransformeryAA08ResponseC0_pSbF">JSONResponseTransformer(_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Response%20Pipeline.html#/s:6Siesta23TextResponseTransformeryAA0cD0_pSbF">TextResponseTransformer(_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Response%20Pipeline.html#/s:6Siesta24ImageResponseTransformeryAA0cD0_pSbF">ImageResponseTransformer(_:)</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Logging.html">Logging</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/SiestaLog.html">SiestaLog</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/SiestaLog/Category.html">– Category</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Caching.html">Caching</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/EntityCache.html">EntityCache</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Network%20Layer.html">Network Layer</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/NetworkingProvider.html">NetworkingProvider</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/NetworkingProviderConvertible.html">NetworkingProviderConvertible</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/RequestNetworking.html">RequestNetworking</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Network%20Layer.html#/s:6Siesta35RequestNetworkingCompletionCallbacka">RequestNetworkingCompletionCallback</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/RequestTransferMetrics.html">RequestTransferMetrics</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/URLSessionProvider.html">URLSessionProvider</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/SessionTaskContainer.html">SessionTaskContainer</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Other%20Extensions.html">Other Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Extensions.html#/s:Sa">Array</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Extensions.html#/s:SD">Dictionary</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Extensions.html#/c:objc(cs)NSArray">NSArray</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Extensions.html#/c:objc(cs)NSDictionary">NSDictionary</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/NSRegularExpression.html">NSRegularExpression</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Set.html">Set</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/String.html">String</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/URL.html">URL</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/URLSession.html">URLSession</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/URLSessionConfiguration.html">URLSessionConfiguration</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Other%20Protocols.html">Other Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Protocols.html#/s:6Siesta15JSONConvertibleP">JSONConvertible</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/URLConvertible.html">URLConvertible</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Other%20Typealiases.html">Other Type Aliases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Typealiases.html#/Image">Image</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Typealiases.html#/s:6Siesta5Imagea">Image</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content top-matter">
            <h1>Request Customization</h1>
            
          </div>
        </section>

        <section class="section">
          <div class="section-content">
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Siesta18RequestChainActionO"></a>
                    <a name="//apple_ref/swift/Enum/RequestChainAction" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Siesta18RequestChainActionO">RequestChainAction</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The possible actions a chained request may take after the underlying request completes.</p>
<div class="aside aside-see">
    <p class="aside-title">See</p>
    <code><a href="Protocols/Request.html#/s:6Siesta7RequestPAAE7chained13whenCompletedAaB_pAA0B11ChainActionOAA12ResponseInfoVc_tF">Request.chained(...)</a></code>

</div>

                        <a href="Enums/RequestChainAction.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">enum</span> <span class="kt">RequestChainAction</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Siesta15RequestDelegateP"></a>
                    <a name="//apple_ref/swift/Protocol/RequestDelegate" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Siesta15RequestDelegateP">RequestDelegate</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Allows you to create <code><a href="Protocols/Request.html">Request</a></code>s with custom logic. This is useful for taking things that are not standard network
requests, and wrapping them so they look to Siesta as if they are. To create a custom request, pass your delegate to
<code><a href="Classes/Resource.html#/s:6Siesta8ResourceC14prepareRequest5usingAA0D0_pAA0D8Delegate_p_tFZ">Resource.prepareRequest(using:)</a></code>.</p>

<p>You can also implement Siesta’s <code><a href="Protocols/Request.html">Request</a></code> protocol yourself, but this is a daunting task full of pitfalls and
redundant effort. This protocol provides customization points for only the things custom requests typically need to
customize, and provides standard behavior and sanity checks. In particular, using <code>RequestDelegate</code>:</p>

<ul>
<li>provides standard implementations for all the request hooks,</li>
<li>ensures those hooks are called <em>exactly</em> once, even if your delegate misbehaves and reports multiple responses,</li>
<li>tracks request state and ensures valid state transitions,</li>
<li>polls request progress, and</li>
<li>handles cancellation cleanly, preventing “response after cancel” race conditions.</li>
</ul>

<p>Siesta itself uses this protocol to implement its own requests. Look at <code>NetworkRequestDelegate</code> and
<code>RequestChainDelgate</code> in Siesta’s source code for examples of implementing this protocol.</p>
<div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <code><a href="Classes/Resource.html#/s:6Siesta8ResourceC14prepareRequest5usingAA0D0_pAA0D8Delegate_p_tFZ">Resource.prepareRequest(using:)</a></code>

</div>

                        <a href="Protocols/RequestDelegate.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">protocol</span> <span class="kt">RequestDelegate</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Siesta24RequestCompletionHandlerP"></a>
                    <a name="//apple_ref/swift/Protocol/RequestCompletionHandler" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Siesta24RequestCompletionHandlerP">RequestCompletionHandler</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Provides callbacks for a <code><a href="Protocols/RequestDelegate.html">RequestDelegate</a></code> to use once its underlying operation is complete and it has response data
to report.</p>
<div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <code>RequestDelegate.startUnderlyingOperation(completionHandler:)</code>

</div>

                        <a href="Protocols/RequestCompletionHandler.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">protocol</span> <span class="kt">RequestCompletionHandler</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </section>

      </article>
    </div>
    <section class="footer">
      <p>© 2020 <a class="link" href="http://bustoutsolutions.com" target="_blank" rel="external noopener">Bust Out Solutions</a> under <a class="link" href="https://github.com/bustoutsolutions/siesta/blob/master/LICENSE" target="_blank" rel="external noopener">open source license</a>.</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external noopener">jazzy ♪♫ vX.X.X</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external noopener">Realm</a> project.</p>
    </section>
  </body>
</html>
